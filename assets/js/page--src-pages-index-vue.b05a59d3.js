(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{171:function(t,e,n){},172:function(t,e,n){"use strict";var o=n(171);n.n(o).a},173:function(t,e,n){"use strict";var o={components:{Icons:n(174).a},props:["link","poster","title","subtitle","icons"]},a=n(19),r=Object(a.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-full md:w-full max-w-4xl rounded overflow-hidden shadow-lg m-4 flex justify-between"},[n("div",{staticClass:"md:flex-shrink-0"},[t.poster?n("g-link",{attrs:{to:t.link}},[n("g-image",{staticClass:"md:w-56",attrs:{src:t.poster,alt:t.title+" poster"}})],1):t._e()],1),n("div",{staticClass:"flex flex-col flex-grow px-8 py-4 bg-gray-800"},[n("h3",{staticClass:"font-bold text-4xl md:text-2xl lg:text-2xl text-gray-200"},[n("g-link",{attrs:{to:t.link}},[t._v(t._s(t.title))])],1),n("span",{staticClass:"text-xl lg:mb-4"},[t._v(t._s(t.subtitle))]),n("div",{staticClass:"flex-grow"},[t._t("default")],2),n("Icons",{staticStyle:{color:"#ff0000"},attrs:{icons:t.icons}})],1)])}),[],!1,null,null,null);e.a=r.exports},174:function(t,e,n){"use strict";var o={props:["icons"]},a=(n(172),n(19)),r=Object(a.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex mb-2"},t._l(t.icons,(function(e,o){return n("g-link",{key:e.title,attrs:{to:e.path}},[e.icon?n("img",{staticClass:"mx-2 icon",attrs:{src:e.icon,title:e.title}}):t._e()])})),1)}),[],!1,null,null,null);e.a=r.exports},183:function(t,e,n){"use strict";var o=n(1),a=n(73).filter,r=n(47),s=n(27),i=r("filter"),l=s("filter");o({target:"Array",proto:!0,forced:!i||!l},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},186:function(t,e,n){"use strict";n(183),n(72);var o=n(173),a={components:{Card:o.a},props:["event"]},r=n(19),s=Object(r.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.event.movie?n("Card",{attrs:{link:t.event.movie.path,poster:t.event.movie.images&&t.event.movie.images.poster&&t.event.movie.images.poster.path,title:t.event.movie.title,subtitle:t.event.movie.year,icons:t.event.movie.genres.concat(t.event.movie.studios,t.event.movie.countries,t.event.movie.languages)}},[n("p",{staticClass:"text-xl md:text-base lg:text-base text-gray-100 leading-snug truncate-overflow"},[t._v(t._s(t.event.reason.description||t.event.title+" - "+t.event.reason.short))])]):t._e()}),[],!1,null,null,null).exports,i={components:{Card:o.a}},l={components:{Event:s,NoEvents:Object(r.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("Card",{attrs:{link:"mailto:mark@honeychurch.org",title:"Sorry",subtitle:"There are no movies for this day"}},[e("p",[this._v("If you know of a movie that is connected to this date, please let me know by emailing me at "),e("a",{attrs:{href:"mailto:mark@honeychurch.org"}},[this._v("mark@honeychurch.org")])])])}),[],!1,null,null,null).exports,Loading:Object(r.a)({},(function(){var t=this.$createElement;return(this._self._c||t)("p",[this._v("Please wait, fetching data...")])}),[],!1,null,null,null).exports},props:["day"],data:function(){return{bottom:!0}},computed:{date:function(){return this.day.month.title+" "+this.day.day.id+this.day.day.ordinal},events:function(){return this.day.belongsTo.edges.filter((function(t){return t.node.id})).map((function(t){return t.node}))}},methods:{navigate:function(t){"ArrowLeft"===t.code&&this.$router.push({path:this.day.previous.path}),"ArrowRight"===t.code&&this.$router.push({path:this.day.next.path})},scroll:function(){this.bottom=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)+window.innerHeight===document.documentElement.offsetHeight}},mounted:function(){window.addEventListener("keydown",this.navigate)}},c=Object(r.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.day?n("section",[n("h1",{staticClass:"font-bold text-4xl"},[n("g-link",{attrs:{to:t.day.previous.path}},[t._v("<")]),n("span",{staticStyle:{width:"400px"}},[t._v(" "+t._s(t.date)+" ")]),n("g-link",{attrs:{to:t.day.next.path}},[t._v(">")])],1),t._l(t.events.sort((function(t){return t.movie.votes})),(function(t,e){return n("Event",{key:e,attrs:{event:t}})})),t.events.length?t._e():n("NoEvents")],2):n("section",[n("Loading")],1)}),[],!1,null,null,null);e.a=c.exports},194:function(t,e,n){var o=n(13),a=Date.prototype,r=a.toString,s=a.getTime;new Date(NaN)+""!="Invalid Date"&&o(a,"toString",(function(){var t=s.call(this);return t==t?r.call(this):"Invalid Date"}))},203:function(t,e,n){"use strict";n.r(e);n(28),n(194),n(20),n(127),n(126);var o=n(44),a={components:{Day:n(186).a},metaInfo:function(){return{title:this.title}},data:function(){return{now:new Date,mounted:!1,frontend:!1,title:"Today's Movies"}},created:function(){var t=this;setInterval((function(){return t.now=new Date}),6e4)},mounted:function(){window&&(this.frontend=!0),this.mounted=!0},computed:{month:function(){return this.now.getMonth()+1},day:function(){return this.now.getDate()},date:function(){return this.day.month_full+" "+this.day.day_ordinal}},asyncComputed:{today:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.mounted){e.next=18;break}if(!t.frontend){e.next=5;break}t.$router.push({path:"/".concat(t.month,"/").concat(t.day,"/")}),e.next=18;break;case 5:return e.next=7,fetch("/assets/data/".concat(t.month,"/").concat(t.day,"/index.json"));case 7:return n=e.sent,e.prev=8,e.next=11,n.json();case 11:return o=e.sent,e.abrupt("return",o.data.days.edges[0].node);case 15:e.prev=15,e.t0=e.catch(8),t.$router.push({path:"/".concat(t.month,"/").concat(t.day,"/")});case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[8,15]])})))()}}},r=n(19),s=Object(r.a)(a,(function(){var t=this.$createElement,e=this._self._c||t;return e("Layout",[e("Day",{attrs:{day:this.today}})],1)}),[],!1,null,null,null);e.default=s.exports}}]);